<div class="cart-container" *ngIf="cartProducts.length !=0; else noProductsCart">
    <div>
        <div *ngFor="let item of cartProducts" class="cart-item">   
            <img src="{{ item.url }}" alt="Item image">
            <div class="cart-item-details">
                <h3>{{ item.name }}</h3>
                <p>${{ item.price }}</p>
                <label class="special" for="item-quantity">Amount</label>
                <input 
                    type="number" 
                    name="item-quantity" 
                    id="item-quantity" 
                    class="number-input" 
                    [(ngModel)]="item.quantity" 
                    (ngModelChange)="onQuantityChange()">
            <br> 
            </div>
        </div>  
        <h2 *ngIf="total > 0">Total: ${{ total }}</h2>
    </div>

    <form #form="ngForm" (ngSubmit)="submitForm()" class="form-margin cart-panel">
        <br>
        <label for="fullName">Full name</label>
        <input 
            type="text" 
            id="fullName" 
            name="fullName" 
            required minlength="3" 
            placeholder="(minimum 3 characters)" 
            [(ngModel)]="fullName"><br>
        <br>
        <label for="address">Address</label>
        <input 
            type="text" 
            id="address" 
            name="address" 
            required minlength="6" 
            placeholder="(minimum 6 characters)" 
            [(ngModel)]="address"><br>
        <br>

        <label for="creditCardNumber">Credit card number</label>
        <input 
            type="text" 
            id="creditCardNumber" 
            name="creditCardNumber" 
            required minlength="16" 
            placeholder="(16-digit number)" 
            pattern="[0-9]{16}"
            [(ngModel)]="creditCardNumber">
        <br>
        
        <p class="info">We'll never share your payment details with anyone else.</p>
        <button type="submit" [disabled]="form.invalid">Submit</button>
    </form>
</div>

<ng-template #noProductsCart>
    <p class="empty-cart-message">Your cart is empty!</p>
    <button class="center-button" routerLink="/">Go back to product list</button>

</ng-template>

